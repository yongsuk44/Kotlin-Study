# Coroutines: built-in support vs library

코루틴은 하나의 개념으로 참조하는 것이 일반적이지만, 사실은 2가지 구성요소로 이루어져 있습니다.

### 구조 지원(Built-in support)

Kotlin 언어 자체에서 제공하는 기능으로 매우 기본적이고 유연하며, 다른 언어에서 볼 수 있는 대부분의 동시성 스타일을 구현할 수 있도록 설계되었씁니다.
그러나, 이러한 유연성 때문에 직접 사용하기가 복잡하며, 일밙적으로 라이브러리 개발자들이 사용합니다.

### Kotlinx.coroutines 라이브러리

프로젝트에 별도로 추가하며, 구조 지원 위에 더 높은 수준의 추상화를 제공합니다.
일반 개발자들이 사용하기 훨씬 간편하고 편리하게 동시성을 다룰 수 있는 구체적인 방법을 제공합니다.

| 구조 지원                                                          | kotlinx.coroutines                 |
|----------------------------------------------------------------|------------------------------------|
| Kotlin 표준 라이브러리에서의 컴파일러 지원 및 요소                                | 별도의 의존성이 프로젝트에 추가되어야 함             |
| 요소는 Kotlin.coroutines 패키지에 있음                                  | 요소는 kotlinx.coroutines 패키지에 있음     |
| 최수주의적이며, 기본 요소(Continuation, suspendCoroutine)와 suspend 키워드 제공 | 많은 요소 (launch, async, Deferred) 제공 |
| 직접 사용하기 까다로움                                                   | 직접 사용하기 위해 설계 됨                    |
| 동시성 스타일 대부분 경우 허용                                              | 하나의 구체적인 동시성 스타일을 위해 설계 됨          |

이 두 부분은 서로 다르게 동작하며 별도로 존재하지만, 실제 프로젝트에서는 대부분 함께 사용됩니다.
구조 지원만으로도 동시성을 다룰 수 있지만, 라이브러리가 제공하는 고수준의 기능을 사용하면 더 편리하게 코드를 작성할 수 있습니다.

이런 구조는 향후 프로그래밍 패턴이나 스타일이 변화하더라도 Kotlin의 구조 지원을 기반으로 새로운 라이브러리나 방식을 쉽게 도입할 수 있습니다.
현재의 동시성 스타일이나 라이브러리가 미래에는 대체될 수 있다는 가능성을 열어둔것입니다.