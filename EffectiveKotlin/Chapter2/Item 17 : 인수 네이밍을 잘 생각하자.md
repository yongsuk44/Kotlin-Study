## Item 17 : 인수 네이밍 하는것을 고심해서 작성하자

---

코드를 읽을 때, 인수(argument)가 무엇을 의미하는지 항상 명확하지는 않습니다.

다음 코드를 보시죠.

```kotlin
val text = (1..10).joinToString("|")
```

`jointToString`에 익숙한 개발자라면 `|`이 구분자(separator)라는것을 쉽게 알 수 있지만, 그렇지 않은 사람이라면 어떤 용도인지 정확하지 않습니다.

그래서 개발자들은 함수의 argument가 무엇을 의미하는지 명확하게 나타낼수 있도록 만들 수 있습니다.
가장 좋은 방법은 `named arguments(이하 명명된 인수)`를 사용하는 것입니다.

```kotlin
val text = (1..10).joinToString(separator = "|")
```

다른 방법으로 변수를 통해 사용할 수 있습니다.

```kotlin
val separator = "|"
val text = (1..10).joinToString(separator)
```

그러나 인수에 이름을 붙이는 것이 코드의 신뢰성을 더 높일 수 있습니다.  
변수 이름은 개발자의 의도가 명확하지만, 반드시 변수가 올바른 값인지는 보장하지 않습니다.

만약 개발자가 실수로 변수를 잘못된 위치에 놓았거나, 매개변수의 순서가 변경될 경우 예기치 못한 문제가 생길 수 있습니다.  
이러한 상황에서 명명된 인수는 이러한 문제를 방지할 수 있습니다.

따라서 우리는 값에 이름을 붙여도 명명된 인수를 사용하는 것이 더 합리적입니다.

```kotlin
val separator = "|"
val text = (1..10).joinToString(separator = separator)
```

---

## 명명된 인수의 사용 시기

명확하게 명명된 인수는 2가지 장점이 있습니다.

- 값이 무엇인지를 나타내는 이름이 있다.
- 순서에 독립적이어서 안전하다.

인수의 이름은 함수를 사용하는 개발자뿐만이 아니라 이를 어떻게 사용했는지 코드를 읽는 사람에게도 중요한 정보입니다.

```kotlin
sleep(100)
```

위 함수가 100밀리 인지, 100초인지 얼마나 대기하는지 명확하게 알 수 없습니다.
하지만 명명된 인수를 사용하면 이를 명확히 알 수 있습니다.

```kotlin
sleep(millis = 100)
```

또 다른 방법으로는 Kotlin과 같은 정적 타입 언어에서는 매개변수의 타입을 통해 정보를 전달할 수 있습니다.

```kotlin
sleep(Millis(100))
```

또는 확장 속성을 사용하여 DSL 같은 구문을 만들 수 있습니다.

```kotlin
sleep(100.ms)
```

타입은 이러한 정보를 전달하는 데 있어 훌륭한 방법입니다.
만약, 함수형 타입의 매개변수를 가진 함수에 대해 효율성에 대한 걱정이 있다면 `inline` 키워드를 사용하는 것이 효율적입니다.
`inline`은 함수형 타입의 매개변수에 대해 안전성을 향상시키지만, 모든 문제를 해결하지는 않습니다.

몇몇 인수들은 여전히 애매모호할 수 있고, 잘못된 위치에 배치될 수 있습니다.

이러한 이유로, 다음과 같은 매개변수에 대해서는 명명된 인수를 고려하는 것이 좋습니다.

|              타입              |                                                           설명                                                            |
|:----------------------------:|:-----------------------------------------------------------------------------------------------------------------------:|
|         기본값이 있는 매개변수         |              매개변수가 기본값을 가지고 있을 때, 호출하는 측에서 이 매개변수를 생략하거나 변경할 수 있습니다. 이런 경우, 이름을 붙여주는 것이 오류를 줄이는 데 도움이 됩니다.              |
|     다른 매개변수와 같은 타입의 매개변수     |                     매개변수들이 같은 타입을 가질 때, 그들이 어떤 역할을 하는지 명확하게 알기 어렵습니다. 따라서 이런 경우에도 이름을 붙여주는 것이 좋습니다.                     |
| 함수가 아닌 타입이면서 마지막 매개변수가 아닌 경우 | 함수형 매개변수가 마지막에 위치할 때, 이를 람다로 표현할 수 있습니다. 하지만 함수형 매개변수가 마지막이 아닌 경우, 이를 람다로 표현하는 것은 불가능합니다. 따라서 이런 경우에도 이름을 붙여주는 것이 좋습니다. |


---

## 매개변수가 기본값을 가지거나 타입이 같을 때
함수를 작성할 때 매개변수에 기본값을 제공하는 경우가 있습니다. 
이런 매개변수들은 선택적으로 사용할 수 있으며, 호출하는 쪽에서 꼭 값을 제공하지 않아도 됩니다. 
이런 매개변수들은 필수 매개변수에 비해 변경될 확률이 높습니다. 

예를 들어, 나중에 기능이 확장되면서 새로운 선택적 매개변수가 추가될 수 있거나 기본값이 바뀔 수 있습니다.

그래서 함수를 호출할 때 선택적 매개변수에 대해서는 꼭 이름을 지정해주는 것이 좋습니다. 
이렇게 하면 코드를 읽는 사람이 함수를 보고 이 매개변수가 무슨 역할을 하는지 쉽게 이해할 수 있습니다. 
또한, 함수의 정의가 변경되어 매개변수의 순서가 바뀌더라도, 이름이 지정된 매개변수는 올바르게 작동하므로 안전성을 보장합니다.

예를 들어, 다음과 같은 함수가 있다고 가정해보죠

```kotlin
fun drawCircle(x: Int, y: Int, radius: Int = 10) { ... }
```

이 함수를 호출할 때 `radius`에 대해 값을 제공하지 않으면 기본값인 10이 사용됩니다. 이 경우 호출하는 쪽에서는 다음과 같이 작성할 수 있습니다.

```kotlin
drawCircle(100, 200, radius = 20)
```

여기서 `radius`에 이름을 지정해줌으로써 이 값이 무슨 의미인지 명확하게 알 수 있습니다. 
또한, `drawCircle` 함수의 정의가 변경되어 매개변수의 순서가 바뀌더라도 이 코드는 올바르게 작동합니다.

또한, 매개변수의 타입이 같을 때도 이름을 지정해주는 것이 좋습니다.

위 `drawCircle`의 첫번째 인수와 두 번쨰 인수가 타입은 같지만 어떤 값인지 명확하지 않습니다.

```kotlin
drawCircle(
    x = 100,
    y = 200,
    radius = 20
)
```

이렇게 호출하면 명확하게 어떤 동작을 하는지 쉽게 이해할 수 있습니다.

---

## 함수형 매개변수
함수 타입의 매개변수에 대해서는 개발자들이 신경써서 처리해야 합니다. 
Kotlin에서는 함수 타입의 매개변수는 특별하게 마지막 위치에 작성해야 합니다. 

함수 이름이 함수 타입의 인수를 설명하기도 합니다. 

예를 들어, `repeat`를 보면 이후의 람다가 반복되어야 하는 코드 블록이라는 것을 예상할 수있고, 
`thread`의 경우 이후의 블록이 새 스레드의 바디라는 것이 직관적입니다. 
이런 함수의 이름은 마지막 위치에서 사용된 함수만을 설명합니다.

```kotlin
thread { ... }
```

그 외의 모든 함수 타입의 인수는 쉽게 잘못 해석될 수 있기 때문에 명명된 인수를 지정해야 합니다.

예를 들어, 아래의 생성되는 뷰를 보시죠

```kotlin
val view = linearLayout {
    textView("Click")
    button({ /* 1 */  }, { /* 2 */ })
}
```

어느 함수가 이 빌더의 일부이고 어느 것이 클릭 리스너인지 알기 쉽지 않습니다.   
리스너 이름을 지정하고 빌더를 인수 외부로 이동하여 명확하게 지정 해야 합니다.

```kotlin
val view = linearLayout {
    textView("Click")
    button(
        onClick = { /* 1 */  }, 
        { /* 2 */ }
    )
}
```

또한, 복수의 함수 타입 인수는 혼란스러울 수 있습니다.

```kotlin
fun call(before: () -> Unit = { }, after: () -> Unit = { }) {
    before()
    println("Calling")
    after()
}

call( {print("CALL")}) // CALLCalling
call { print("CALL") } // CallingCALL
```

이런 상황을 방지하기 위해, 함수 타입의 단일 인수가 없을 때, 모든 인수에 이름을 붙이는것이 좋습니다.

```kotlin
call(before = { print("CALL") }) // CALLCalling
call(after = { print("CALL") }) // CallingCALL
```