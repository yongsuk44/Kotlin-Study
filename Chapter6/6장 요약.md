# 목차

- [Item 36 : 상속 보단 구성 사용](#item-36--상속-보단-구성-사용)

## Item 36 : 상속 보단 구성 사용

상속은 객체를 계층화하는데 있어 강력하지만 항상 적절한 해결책으로 제시될 수 없습니다.
특히 코드의 일부를 재사용하고 싶을 때나 명확한 `is-a` 관계가 아닌 경우에는 상속보다는 클래스의 구성(Composition)이 적합합니다.

### 구성은 선택적 재사용 가능

구성은 객체를 필드나 속성으로 포함시키고 해당 기능의 재사용을 의미 합니다.
이를 통해 필요한 동작만 선택적으로 재사용할 수 있습니다.

상속 사용 시 상위 클래스의 모든 메서드와 필드를 물려받게 되어 필요하지 않는 기능까지 상속받는 문제가 발생될 수 있습니다.

### 상속은 단일 상속만 가능

Kotlin은 Java와 다르게 다중 상속을 지원하지 않기에 한 클래스는 한개의 상위 클래스만 상속 받을 수 있습니다.
하지만 구성을 사용하면 N개의 클래스 기능을 조합하여 사용할 수 있습니다.

### 상속은 강한 결합을 만듬 

상속 사용 시 하위 클래스는 상위 클래스의 내부 동작에 강하게 결합되어 상위 클래스의 변화에 취약해집니다.
하지만 구성 사용 시 이런 결합을 최소화할 수 있습니다.

### 상속은 캡슐화를 꺠뜨릴 수 있음

상속 사용 시 상위 클래스의 내부 동작을 하위 클래스가 알게 되므로 캡슐화를 깨뜨릴 수 있습니다.
이는 캡슐화 원칙을 뷔안하여 시스템 보안성이 약화 될 수 있습니다.

구성과 위임(Delegation) 패턴은 상속의 이런 문제점을 해결하는데 도움이 되며, 
구성은 클래스 간 관계를 느슨하게 만들고 코드를 더 유연하고 재사용 가능하게 만들 수 있습니다.
또한 위임 패턴 사용 시 구성을 사용하면서도 다형성을 보장 받기에 다형성이 중요한 경우 구성과 같이 사용하는 것이 좋습니다. 

### 메서드 오버라이딩 제한

설계 되지 않은 클래스 확장 방지 시 클래스를 `final`로 선언할 수 있으며 기본적으로 모든 메서드는 `final` 형태 입니다.

상속을 통해 메서드 오버라이드 허용하게 하려면 `open`으로 설정하면 됩니다.
이런 방식을 적절하게 활용하여 상속을 위해 설계된 메서드만 오버라이드 가능하게 할 수 있습니다.
